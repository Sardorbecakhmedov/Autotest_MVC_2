@using Microsoft.AspNetCore.Mvc.TagHelpers
@model Auto_test.Library.Models.UserModels.User


<style>

  html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  padding: 0;
  font-family: sans-serif;
  background: rgb(19, 74, 82);
  background: -moz-linear-gradient(
    90deg,
    rgba(19, 74, 82, 1) 0%,
    rgba(91, 54, 160, 1) 35%,
    rgba(58, 51, 206, 1) 63%,
    rgba(31, 100, 110, 1) 100%
  );
  background: -webkit-linear-gradient(
    90deg,
    rgba(19, 74, 82, 1) 0%,
    rgba(91, 54, 160, 1) 35%,
    rgba(58, 51, 206, 1) 63%,
    rgba(31, 100, 110, 1) 100%
  );
  background: linear-gradient(
    90deg,
    rgba(19, 74, 82, 1) 0%,
    rgba(91, 54, 160, 1) 35%,
    rgba(58, 51, 206, 1) 63%,
    rgba(31, 100, 110, 1) 100%
  );
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#134a52",endColorstr="#1f646e",GradientType=1);
  background-size: 100%;
}

* {
  box-sizing: border-box;
}

.start {
  text-align: center;
    background-color: transparent;
}

.start h1 {

  padding: 50px 0;
    padding-top: 10px;
  color: white;
    background-color: transparent;
  font-size: 60px;
}

.container {
  width: 1340px;
  margin: 0 auto;
  padding: 15px 0;
}

.all-button {
  font-weight: bold;
  background-color: red;
    width: 100%;
  color: black;
  border: 3px solid transparent;
  transition: 0.5s;
    
    padding: 13px 20px;
  border-radius: 20px 0 20px 0;
}
.all-button:hover {
    color: azure;
    padding: 13px 20px;
 border: 3px solid red;
  transition: 0.5s;
  cursor: pointer;
}

.cards {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
    align-items: center;
               gap: 30px;
  padding-bottom: 70px;
}

.card {
  width: 230px;
    border-radius: 20px 0 20px 0;
  overflow: hidden;
  position: relative;
  top: 0;
  left: 0;
  transition: 1s;
    margin-bottom: 20px;
  box-shadow: 2px 2px 10px 0 rgb(69, 68, 68);
}
.card:hover {
  box-shadow: 12px 12px 0 0 black;
  position: relative;
  top: 7px;
  left: 7px;
  transition: 1s;
}

.card-text {
  padding: 10px;
  text-align: center;
}
.card-text span {
  color: red;
}
.card-text button {
  width: 100%;
}

.card-text :nth-child(1) {
  margin: 5px 0;
}

.card-text :nth-child(2) {
  font-size: 20px;
  padding: 0;
  margin: 0;
}
.card img {
  width: 100%;
  height: 75px;
  object-fit: cover;
}

@@media only screen and (max-width: 1440px) {
  .container {
    width: 1140px;
    margin: 0 auto;
    padding: 15px 0;
  }
}

@@media only screen and (max-width: 900px) {
  .container {
    width: 670px !important;
    margin: 0 auto !important;
    padding: 0 15px !important;
  }
}

@@media only screen and (max-width: 1200px) and (min-width: 900px) {
  .container {
    width: 900px !important;
    margin: 0 auto !important;
    padding: 0 15px !important;
  }
}
  /*# sourceMappingURL=style.css.map */

  .all-button {
      size: A4;
      font-weight: bold;
      background-color: red;
      width: auto;
      color: antiquewhite;
      border: 3px solid transparent;
      transition: 0.5s;
    
      padding: 13px 20px;
      border-radius: 20px 0 20px 0;
  }
  .all-button:hover {
      color: black;
      padding: 13px 20px;
      border: 3px solid red;
      transition: 0.5s;
      cursor: pointer;
  }

</style>


<div class="container">

    @if (Model.ExamCurrentTicketIndex != -1)
    {
        <h1 class="start btn btn-outline-primary" style="color: antiquewhite"> Sizda yakunlanmagan imtihon testi mavjud iltimos testni oxiragacha tugating! </h1>

        <form asp-controller="Question" asp-action="Exam">
            <button type="submit" class="all-button">Imtihonga qaytish</button>
        </form>

        <div class="d-flex" style="height: -80px">

            <img src="http://themes.potenzaglobalsolutions.com/html/cardealer/revolution/assets/e13ec-06-audi-s2.png" class="w-50 imgss"/>

            <img src="http://themes.potenzaglobalsolutions.com/html/cardealer/revolution/assets/4f45e-07-bmw-s2.png"class="w-50 imgss"/>

            <!-- <img src="http://themes.potenzaglobalsolutions.com/html/cardealer/images/loader.gif" alt=""> -->

        </div>
    }
    else
    {
        <div class="d-flex" style="text-align: center" >

            <div class="start">
                <h1>Test Biletlari !</h1>
            </div>


            <div class="btn-group;  start" role="group" aria-label="Button group with nested dropdown">

                <a class="nav-link text-danger dropdown-toggle " style="color: aliceblue" data-bs-toggle="dropdown" aria-expanded="false">Savollar tilini o'zgartirish</a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" asp-controller="Question" asp-action="EditLanguage" asp-route-language="uzlotin">O'zbek</a></li>
                    <li><a class="dropdown-item" asp-controller="Question" asp-action="EditLanguage" asp-route-language="uzkiril">UzKiril</a></li>
                    <li><a class="dropdown-item" asp-controller="Question" asp-action="EditLanguage" asp-route-language="rus">Ruscha</a></li>
                </ul>

            </div>

        </div>

      

        <div class="cards">
            @foreach (var ticket in Model.UserTickets)
            {
                var bg = "";
                var isCompleted = false;

                if (ticket.TicketAnswers.Count >= 10)
                {
                    bg = "lawngreen";
                    isCompleted = true;
                }
                else
                {
                    bg = "aliceblue";
                }

                <div class="card" style="background-color:  @bg">
                    <div>
                        <img src="../img/car1.jpg"/>
                    </div>

                    <div class="card-text">
                        <h1>Bilet № <span>@(ticket.TicketIndex + 1)</span></h1>

                        @if (ticket.TicketAnswers is not null && ticket.TicketAnswers.Count > 0)
                        {
                            <h4>@ticket.CorrectAnswerCount / @ticket.QuestionsCount</h4>
                            <p>@ticket.CreateDateTime.ToString("f")</p>

                            if (isCompleted)
                            {
                                <i>Yakunlangan</i>
                            }
                            else
                            {
                                <u>Yakunlanmagan</u>
                            }
                        }

                        <form
                            asp-controller="Question"
                            asp-action="StartTicket"
                            asp-route-ticketIndex="@ticket.TicketIndex">
                            <button type="submit" class="all-button">Start</button>
                        </form>

                    </div>
                </div>
            }
        </div>
    }

</div>


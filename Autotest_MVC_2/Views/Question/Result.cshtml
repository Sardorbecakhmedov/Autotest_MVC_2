
@model Auto_test.Library.Models.UserModels.User

<style>
   
    html {
        scroll-behavior: smooth;
    }

    body {
        margin: 0;
        padding: 0;
        color: white;
    }

    * {
        box-sizing: border-box;
    }

    .cards {
        background-color: rgba(0, 0, 0, 0.878);
        display: flex;
        justify-content: center;
        align-items: center;
        height: 90vh;
        padding: 0 20px;
    }

    .card {
        box-shadow: 0px 9px 50px rgba(23, 36, 65, 0.04);
        border-radius: 16px;
        background: #131e3a;
        border-top: 1px solid #d3f85a;
        padding: 20px;
    }

    .all-button {
        border: 2px solid transparent;
        background-color: #d3f85a;
        padding: 7px 25px;
        border-radius: 0 10px 0 10px;
        transition: 0.5s;
    }
    .all-button:hover {
        background-color: transparent;
        color: #d3f85a;
        border: 2px solid #d3f85a;
        transition: 0.5s;
    }

    span {
        color: #d3f85a;
    }
    .text {
        text-align: left;
    }

    .test-top {
        font-size: 30px;
        font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;
    }

    .text :nth-child(2) {
        font-size: 30px;
        margin: 0 !important;
        padding: 10px 0;
    }

    .text :nth-child(3) {
        font-size: 30px;
        margin: 0 !important;
        padding: 10px 0;
    }

    .text :nth-child(4) {
        font-size: 30px;
        margin: 0 !important;
        padding: 10px 0;
    }

    .text :nth-child(5),
    .text :nth-child(6) {
        cursor: pointer;
        display: block;
        margin: 10px 0;
        font-size: 20px;
        font-weight: bold;
    }
    .text :nth-child(6) {
        margin-top: 20px;
        border-radius: 10px 0 10px 0;
    }

</style>

@if (ViewBag.IsExam == true)
{
    if (Model.CurrentTicket!.TicketAnswers!.Count(c => c.IsCorrectAnswer) < 8)
    {
        <h1 class="btn btn-danger" style="color: azure; text-align: center; height: 40px">
            Afsuski siz autotest imtihonidan o'tolmadingiz, harakatdan to'xtamang siz albatta uddalaysiz :)
        </h1>
    }
    else
    {
        <h1 class="btn btn-info" style="color: chartreuse" >Tabriklamiz siz imtihondan o'ttingiz ;)</h1>
    }
}

<section>
    <div class="cards">
        <div class="card">
            <div class="text">
                <span class="test-top">Test Natijalari.</span>
                
                @if (ViewBag.IsExam == false)
                {
                    <h4>Bilet № : <span> @Model.CurrentTicketIndex</span></h4>
                }

                <h4>Togri javoblar soni : <span>@Model.CurrentTicket!.CorrectAnswerCount </span></h4>
                <h4>Biletlar savollar soni : <span> @Model.CurrentTicket.QuestionsCount</span></h4>
                
                @if (ViewBag.IsExam == false)
                {
                    <form asp-controller="Question" asp-action="RemoveTicketAnswer">
                        <button class="all-button" type="submit">Testni qayta bajarish</button>
                    </form>
                }

                <form asp-controller="Question" asp-action="ShowTickets">
                    <button class="all-button" type="submit">Test biletlari</button>
                </form>
                
                <form asp-controller="Question" asp-action="Exam">
                    <button class="all-button" type="submit">Imtihon topshirish</button>
                </form>
            </div>
        </div>
    </div>
</section>
